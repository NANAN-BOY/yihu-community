<!DOCTYPE html>
<html lang="zh">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title><%= form.form_name %> - 填写表单</title>
    <link rel="stylesheet" href="/styles/create-form.css">
</head>
<body>
    <div class="container">
        <h1><%= form.form_name %> - 填写表单</h1>
        <p><%= form.form_description %></p>

        <!-- 表单 -->
        <form action="/submit-form" method="POST">
            <!-- 隐藏字段：表单ID -->
            <input type="hidden" name="form_id" value="<%= form.forms_id %>">

            <% fields.forEach(field => { %>
                <div class="form-group">
                    <label for="<%= field.form_fields_name %>"><%= field.form_fields_name %>：</label>

                    <% if (field.form_fields_type === 1) { %> <!-- 文本框 -->
                        <input type="text" name="fields[<%= field.form_fields_name %>]" id="<%= field.form_fields_name %>" <% if (field.isRequired) { %> required <% } %> />

                    <% } else if (field.form_fields_type === 2) { %> <!-- 多行文本框 -->
                        <textarea name="fields[<%= field.form_fields_name %>]" id="<%= field.form_fields_name %>" <% if (field.isRequired) { %> required <% } %>></textarea>

                    <% } else if (field.form_fields_type === 3) { %> <!-- 下拉选择 -->
                        <select name="fields[<%= field.form_fields_name %>]" id="<%= field.form_fields_name %>" <% if (field.isRequired) { %> required <% } %>>
                            <% const options = JSON.parse(field.form_fields_options); %>
                            <% options.forEach(option => { %>
                                <option value="<%= option %>"><%= option %></option>
                            <% }); %>
                        </select>

                    <% } else if (field.form_fields_type === 4) { %> <!-- 文件上传 -->
                        <input type="file" name="fields[<%= field.form_fields_name %>]" id="<%= field.form_fields_name %>" <% if (field.isRequired) { %> required <% } %> />

                    <% } %>

                    <% if (field.isRequired) { %>
                        <span style="color: red;">(必填)</span>
                    <% } else { %>
                        <span style="color: green;">(可选)</span>
                    <% } %>
                </div>
            <% }); %>

            <button type="submit" class="btn">提交表单</button>
        </form>
    </div>

    <script>
        // 此处可以添加一些前端验证或动态交互逻辑
    </script>
</body>
</html>
